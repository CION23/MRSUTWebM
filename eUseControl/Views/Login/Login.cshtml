@{
     ViewBag.Title = "Login";
     Layout = "~/Views/Shared/_LayoutWithUser.cshtml";
}
@using System.Web.Optimization
@model eUseControl.Models.UserLogin

<main>
     <div class="container-center animated slideInDown">
          <div class="view-header">
               <div class="header-icon">
                    <i class="pe page-header-icon pe-7s-unlock"></i>
               </div>
               <div class="header-title">
                    <h3>Login</h3>
                    <small>
                         Please enter your credentials to login.
                    </small>
               </div>
          </div>

          <div class="panel panel-filled">
               <div class="panel-body">
                    @Html.ValidationSummary(true)
                    @using (Html.BeginForm("Login", "Login", FormMethod.Post, new { @id = "LoginForm" }))
                    {
                         @Html.AntiForgeryToken()
                         <div class="form-group">
                              @Html.LabelFor(m => m.Credential, new { @class = "control-label" })
                              @Html.TextBoxFor(m => m.Credential, new
                              {
                                  placeholder = "example@gmail.com",
                                  title = "Please enter your username",
                                  @class = "form-control"
                              })
                              <span class="help-block small">Your unique username to app</span>
                         </div>
                         <div class="form-group">
                              @Html.LabelFor(m => m.Password, new { @class = "control-label" })
                              @Html.PasswordFor(m => m.Password, new
                              {
                                  @class = "form-control",
                                  title = "Please enter your password",
                                  placeholder = "******"
                              })
                              <span class="help-block small">Your strong password</span>
                         </div>
                         <div>
                              <button type="submit" class="btn btn-accent">Log in</button>
                              <a class="nav-link" href="@Url.Action("LogOn","Home")"><i class=""></i> Log On</a>
                         </div>
                    }
               </div>
          </div>

     </div>

</main>

@section Scripts {
     @Scripts.Render("~/bundles/validation/js")

     <script type="text/javascript">
          $(function () {

               $("#LoginForm").validate({
                    rules: {
                         Credential: {
                              required: true
                         },
                         Password: {
                              required: true
                         }
                    },
                    messages: {
                         Credential: {
                              required: "Please enter your username or email"
                         },
                         Password: {
                              required: "Please enter your password"
                         }
                    },
                    submitHandler: function (form) {
                         form.submit();
                    },
                    errorPlacement: function (error, element) {
                         $(element)
                              .closest("form")
                              .find("label[for='" + element.attr("id") + "']")
                              .append(error);
                    },
                    errorElement: "span"
               });
          });
     </script>
}
