@model IEnumerable<eUseControl.Domain.Entities.User.UserSignUp>

@{
     ViewBag.Title = "Control";
     Layout = "~/Views/Shared/_LayoutAView.cshtml";
}

<div class="TablesControl">
     <table class="table">
          <tr>
               <th>
                    @Html.DisplayNameFor(model => model.UserId)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.FirstName)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.LastName)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.UserName)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.EmailAddress)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.Password)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.CreatedOn)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.LoginIp)
               </th>
               <th>
                    @Html.DisplayNameFor(model => model.Role)
               </th>
               <th>Action</th>
          </tr>

          @foreach (var item in Model)
          {
               <tr>
                    <td>
                         @Html.DisplayFor(modelItem => item.UserId)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.FirstName)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.LastName)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.UserName)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.EmailAddress)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.Password)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.CreatedOn)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.LoginIp)
                    </td>
                    <td>
                         @Html.DisplayFor(modelItem => item.Role)
                    </td>
                    <td>
                         <button type="button" class="btn btn-primary" onclick="openModifyModal(@item.UserId,
                              '@item.FirstName',
                              '@item.LastName',
                              '@item.UserName',
                              '@item.EmailAddress',
                              '@item.Password',
                              '@item.LoginIp')">
                              Modify
                         </button>
                         <button type="button" class="btn btn-danger" onclick="confirmDelete(@item.UserId)">Delete</button>
                    </td>
               </tr>
          }
     </table>
</div>

@if (ViewBag.ErrorMessage != null)
{
     <div class="alert alert-danger">
          @ViewBag.ErrorMessage
     </div>
}

<div class="modal fade" id="deleteUserModal" tabindex="-1" role="dialog" aria-labelledby="deleteUserModalLabel" aria-hidden="true">
     <div class="modal-dialog" role="document">
          <div class="modal-content">
               <div class="modal-header">
                    <h5 class="modal-title" id="deleteUserModalLabel">Delete User</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                         <span aria-hidden="true">&times;</span>
                    </button>
               </div>
               <div class="modal-body">
                    Are you sure you want to delete this user?
               </div>
               <div class="modal-footer">
                    @using (Html.BeginForm("Delete", "Home", FormMethod.Post, new { id = "deleteUserForm" }))
                    {
                         @Html.Hidden("userId", "")
                         <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                         <button type="submit" class="btn btn-danger">Delete</button>
                    }
               </div>
          </div>
     </div>
</div>
<div class="modal fade" id="modifyUserModal" tabindex="-1" role="dialog" aria-labelledby="modifyUserModalLabel" aria-hidden="true">
     <div class="modal-dialog" role="document">
          <div class="modal-content">
               <div class="modal-header">
                    <h5 class="modal-title" id="modifyUserModalLabel">Modify User</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                         <span aria-hidden="true">&times;</span>
                    </button>
               </div>
               <div class="modal-body">
                    @using (Html.BeginForm("Modify", "Home", FormMethod.Post, new { id = "modifyUserForm" }))
                    {
                         @Html.Hidden("userId", "")
                         <div class="form-group">
                              <label for="firstName">First Name</label>
                              <input type="text" name="firstName" class="form-control" />
                         </div>
                         <div class="form-group">
                              <label for="lastName">Last Name</label>
                              <input type="text" name="lastName" class="form-control" />
                         </div>
                         <div class="form-group">
                              <label for="userName">Username</label>
                              <input type="text" name="userName" class="form-control" />
                         </div>
                         <div class="form-group">
                              <label for="emailAddress">Email Address</label>
                              <input type="email" name="emailAddress" class="form-control" />
                         </div>
                         <div class="form-group">
                              <label for="password">Password</label>
                              <input type="password" name="password" class="form-control" />
                         </div>
                         <div class="form-group">
                              <label for="ip">IP Address</label>
                              <input type="text" name="ip" class="form-control" />
                         </div>
                         <button type="submit" class="btn btn-primary">Modify</button>
                    }
               </div>
          </div>
     </div>
</div>